# üêõ –ë–∞–≥ BUG-002: Hardcoded —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ Messages –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–≥–µ

**Bug ID**: BUG-2025-10-17-002  
**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è**: 17.10.2025  
**–ú–æ–¥—É–ª—å**: Messaging  
**–¢–∏–ø**: –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (i18n)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1 (–í—ã—Å–æ–∫–∏–π)  
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å**: Major  

---

## –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è

**–¢–∏–ø –æ—à–∏–±–∫–∏**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

**–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
–í —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ i18next (ru/en). Hardcoded —Å—Ç—Ä–æ–∫–∏ –Ω–∞—Ä—É—à–∞—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏.

---

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ
–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `MessagesPage` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç hardcoded (–∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) —Ä—É—Å—Å–∫–∏–µ —Å—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫.

### –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

**–§–∞–π–ª**: `src/pages/messages/messages.tsx`

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ hardcoded —Å—Ç—Ä–æ–∫–∏**:

1. **–°—Ç—Ä–æ–∫–∞ 36**: –ö–Ω–æ–ø–∫–∞ "–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
```tsx
<Text ml={2}>–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</Text>  // ‚ùå HARDCODED
```

2. **–°—Ç—Ä–æ–∫–∞ 70**: Empty state —Ç–µ–∫—Å—Ç
```tsx
<Text fontWeight="bold">{activeThread ? activeThread.id : t('labels.no_data')}</Text>
// –ü—Ä–æ–±–ª–µ–º–∞: –ø—Ä–∏ activeThread === null –≤—ã–≤–æ–¥–∏—Ç ID –≤–º–µ—Å—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–∏
```

3. **–°—Ç—Ä–æ–∫–∞ 92**: Placeholder –¥–ª—è Input
```tsx
<Input placeholder={t('messages.placeholder', '–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...')} ... />
// ‚ùå Fallback '–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...' –Ω–µ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ English
```

4. **–°—Ç—Ä–æ–∫–∞ 95**: –¢–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
```tsx
<Text ml={2}>{t('messages.newMessage', '–û—Ç–ø—Ä–∞–≤–∏—Ç—å')}</Text>
// ‚ùå Fallback '–û—Ç–ø—Ä–∞–≤–∏—Ç—å' –Ω–µ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ English
```

### –ü—Ä–æ–±–ª–µ–º–∞ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π

**–§–∞–π–ª**: `locales/ru/common.json`

–°—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª—é—á–µ–π:
- `messages.placeholder` - –µ—Å—Ç—å fallback, –Ω–æ –Ω–µ—Ç –≤ JSON
- `messages.newMessage` - –µ—Å—Ç—å fallback, –Ω–æ –Ω–µ—Ç –≤ JSON

**–§–∞–π–ª**: `locales/en/common.json`

–ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á–∏ –¥–ª—è Messages –º–æ–¥—É–ª—è.

---

## –®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

### –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è
- –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (http://localhost:3000)
- Mock API –∑–∞–ø—É—â–µ–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω
- –ï—Å—Ç—å –¥–∏–∞–ª–æ–≥–∏ –≤ —Å–∏—Å—Ç–µ–º–µ

### –®–∞–≥–∏
1. –ó–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º—É
2. –û—Ç–∫—Ä—ã—Ç—å `/messages`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–≤—Å–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º)
4. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —è–∑—ã–∫ –Ω–∞ English (–≤ header language selector)
5. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ Messages

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –í—Å–µ —Ç–µ–∫—Å—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ
- ‚úÖ "New Message" –≤–º–µ—Å—Ç–æ "–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
- ‚úÖ "Write a message..." –≤–º–µ—Å—Ç–æ "–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
- ‚úÖ "Send" –≤–º–µ—Å—Ç–æ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"

### –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚ùå –¢–µ–∫—Å—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- ‚ùå Button text: "–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ" (should be "New Message")
- ‚ùå Placeholder: "–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." (should be "Write a message...")
- ‚ùå Send button text: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å" (should be "Send")

---

## –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø)

**–§–∞–π–ª**: `src/pages/messages/messages.tsx` (—Å—Ç—Ä–æ–∫–∞ 36)

```tsx
<Button colorPalette="blue" size="sm">
  <FiSend />
  <Text ml={2}>–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</Text>  // ‚ùå HARDCODED
</Button>
```

**–§–∞–π–ª**: `src/pages/messages/messages.tsx` (—Å—Ç—Ä–æ–∫–∞ 92)

```tsx
<Input 
  placeholder={t('messages.placeholder', '–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...')}  // ‚ùå Fallback HARDCODED
  value={text} 
  onChange={(e) => setText(e.target.value)} 
  onKeyDown={(e) => { if (e.key === 'Enter') handleSend() }} 
/>
```

**–§–∞–π–ª**: `src/pages/messages/messages.tsx` (—Å—Ç—Ä–æ–∫–∞ 95)

```tsx
<Button colorPalette="blue" onClick={handleSend} disabled={!text.trim()} loading={isLoading}>
  <FiSend />
  <Text ml={2}>{t('messages.newMessage', '–û—Ç–ø—Ä–∞–≤–∏—Ç—å')}</Text>  // ‚ùå Fallback HARDCODED
</Button>
```

### –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ù–ï–ü–û–õ–ù–´–ï)

**–§–∞–π–ª**: `locales/ru/common.json`

```json
{
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏ ...
  "nav": {
    "messages": "–°–æ–æ–±—â–µ–Ω–∏—è"
  }
  // ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç:
  // "messages.placeholder": "–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
  // "messages.newMessage": "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"
  // "messages.newMessageButton": "–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
}
```

**–§–∞–π–ª**: `locales/en/common.json`

```json
{
  // ... existing keys ...
  // ‚ùå –ü–û–õ–ù–û–°–¢–¨–Æ –û–¢–°–£–¢–°–¢–í–£–Æ–¢ –ö–õ–Æ–ß–ò –î–õ–Ø MESSAGES
}
```

---

## –¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–∏—Ç—å `locales/ru/common.json`

```json
{
  "messages": {
    "title": "–°–æ–æ–±—â–µ–Ω–∏—è",
    "newMessageButton": "–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
    "newMessageTitle": "–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
    "newMessage": "–û—Ç–ø—Ä–∞–≤–∏—Ç—å",
    "placeholder": "–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...",
    "noData": "–ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π",
    "noThreads": "–ù–µ—Ç –¥–∏–∞–ª–æ–≥–æ–≤"
  }
}
```

### 2. –û–±–Ω–æ–≤–∏—Ç—å `locales/en/common.json`

```json
{
  "messages": {
    "title": "Messages",
    "newMessageButton": "New Message",
    "newMessageTitle": "New Message",
    "newMessage": "Send",
    "placeholder": "Write a message...",
    "noData": "No messages",
    "noThreads": "No conversations"
  }
}
```

### 3. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `src/pages/messages/messages.tsx`

**–°—Ç—Ä–æ–∫–∞ 36**:
```tsx
// ‚ùå –ë–´–õ–û:
<Text ml={2}>–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</Text>

// ‚úÖ –°–¢–ê–õ–û:
<Text ml={2}>{t('messages.newMessageButton')}</Text>
```

**–°—Ç—Ä–æ–∫–∞ 92**:
```tsx
// ‚ùå –ë–´–õ–û:
placeholder={t('messages.placeholder', '–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...')}

// ‚úÖ –°–¢–ê–õ–û:
placeholder={t('messages.placeholder')}
```

**–°—Ç—Ä–æ–∫–∞ 95**:
```tsx
// ‚ùå –ë–´–õ–û:
<Text ml={2}>{t('messages.newMessage', '–û—Ç–ø—Ä–∞–≤–∏—Ç—å')}</Text>

// ‚úÖ –°–¢–ê–õ–û:
<Text ml={2}>{t('messages.newMessage')}</Text>
```

### 4. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤ i18n –∫–æ–Ω—Ñ–∏–≥

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ `src/i18n.ts` –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –æ–±–∞ —è–∑—ã–∫–æ–≤—ã—Ö —Ñ–∞–π–ª–∞:

```typescript
import messagesRu from '../locales/ru/common.json'
import messagesEn from '../locales/en/common.json'

i18n.addResourceBundle('ru', 'common', messagesRu, true, true)
i18n.addResourceBundle('en', 'common', messagesEn, true, true)
```

---

## –û–∫—Ä—É–∂–µ–Ω–∏–µ

- **–ë—Ä–∞—É–∑–µ—Ä**: Chrome (Latest)
- **–û–°**: Windows 10/11
- **URL**: http://localhost:3000/messages

---

## –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ç–µ—Å—Ç-–∫–µ–π—Å—ã

- ‚úì TC-MESSAGES-001-006: –í—Å–µ —Ç–µ—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π (–õ–û–ö–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–û–í–ê–õ–ï–ù–ê)

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `src/pages/messages/messages.tsx`
- `locales/ru/common.json`
- `locales/en/common.json`
- `src/i18n.ts`

---

## –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: High (P1)
- **–û–±–ª–∞—Å—Ç—å –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è**: –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–π –ª–æ–∫–∞–ª–∏
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç**: –ü–ª–æ—Ö–æ–π - —Å–º–µ—à–∏–≤–∞–Ω–∏–µ —è–∑—ã–∫–æ–≤ –≤ –æ–¥–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω–æ–π i18n –ø–æ–¥–¥–µ—Ä–∂–∫–∏

---

## –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

**QA Engineer** (17.10.2025):
> –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫, —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –°–æ–æ–±—â–µ–Ω–∏–π –æ—Å—Ç–∞–µ—Ç—Å—è —á–∞—Å—Ç–∏—á–Ω–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º. –≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ—Ä—Ç–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –¥–ª—è –∞–Ω–≥–ª–æ—è–∑—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

**–°—Ç–∞—Ç—É—Å**: New  
**–ê–≤—Ç–æ—Ä**: QA Testing Team  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 17.10.2025

